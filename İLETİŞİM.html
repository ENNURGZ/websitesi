<!doctype html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sakarya Üniversitesi Web Teknolojileri Ödevi">

    <title>İletişim Sayfası</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="iletişimstiil.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div>
        <!-- Menü -->
        <nav class="navbar navbar-expand-lg navbar-light bg-dark menü">
            <div class="container-fluid">
                <a class="navbar-brand disabled text-white">ENNUR GÜRBÜZ</a>
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <div class="navbar-nav">
                        <a href="index.html" class="nav-item nav-link active text-white-50">ANA SAYFA</a>
                        <a href="Sehrim.html" class="nav-item nav-link text-white-50">ŞEHRİM</a>
                        <a href="Mirasımız.html" class="nav-item nav-link text-white-50">MİRASIMIZ</a>
                        <a href="CV.html" class="nav-item nav-link text-white-50">ÖZGEÇMİŞİM</a>
                        <a href="İlgiAlanlarım.html" class="nav-item nav-link text-white-50">İLGİ ALANLARIM</a>                    
                    </div>
                    <div class="navbar-nav ms-auto">
                        <a href="İLETİŞİM.html" class="nav-item nav-link text-white-50" tabindex="-1">İLETİŞİM</a>
                        <a href="giriş.html" class="nav-item nav-link text-white-50">GİRİŞ YAP</a>
                    </div>
                </div>
            </div>
        </nav>
    </div>

    <div class="container mt-4">
        <div class="bg-dark text-white text-center py-3">
            <h2>İLETİŞİM SAYFASI</h2>
        </div>
        <div class="row">
            <div class="col-md-6 col-sm-12 py-5">
                <!-- RESİM -->
                <div>
                    <img class="img-fluid" src="RESİMLER/iletisim-kanallari.png" alt="asistan">
                </div>
            </div>
            <div class="col-md-6 col-sm-12">
                <div id="app">
                    <form id="iletisimFormu" action="FormBilgileri.php" method="post" @submit="submitForm">
                        <div class="card mt-4">
                            <div class="card-body p-3">
                                <div class="form-group mb-3">
                                    <label for="kullaniciadi">Kullanıcı Adı:</label>
                                    <input type="text" id="kullaniciadi" name="kullanıcıadı" v-model="kullaniciadi" class="form-control">
                                    <span v-if="errors.kullaniciadi" class="text-danger">{{ errors.kullaniciadi }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="mail">E-Mail:</label>
                                    <input type="email" id="mail" name="mail" v-model="mail" class="form-control">
                                    <span v-if="errors.mail" class="text-danger">{{ errors.mail }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="telefon">Telefon:</label>
                                    <input type="text" id="telefon" name="telefon" v-model="telefon" class="form-control">
                                    <span v-if="errors.telefon" class="text-danger">{{ errors.telefon }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="tarih">Doğum Tarihi:</label>
                                    <input type="date" id="tarih" name="tarih" v-model="tarih" class="form-control">
                                    <span v-if="errors.tarih" class="text-danger">{{ errors.tarih }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="iller">Yaşadığınız İl:</label>
                                    <select id="iller" name="iller[]" multiple v-model="iller" class="form-select">
                                        <option v-for="(il, index) in ilListesi" :value="index">{{ il }}</option>
                                    </select>
                                    <span v-if="errors.iller" class="text-danger">{{ errors.iller }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="mesaj">Mesaj:</label>
                                    <textarea id="mesaj" name="mesaj" v-model="mesaj" class="form-control"></textarea>
                                    <span v-if="errors.mesaj" class="text-danger">{{ errors.mesaj }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label>Cinsiyet:</label><br>
                                    <div class="form-check form-check-inline">
                                        <input type="radio" id="erkek" name="cinsiyet" value="Erkek" v-model="cinsiyet" class="form-check-input">
                                        <label for="erkek" class="form-check-label">Erkek</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input type="radio" id="kadin" name="cinsiyet" value="Kadın" v-model="cinsiyet" class="form-check-input">
                                        <label for="kadin" class="form-check-label">Kadın</label>
                                    </div>
                                    <span v-if="errors.cinsiyet" class="text-danger">{{ errors.cinsiyet }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label>Bizi Nereden Duydunuz:</label><br>
                                    <div class="form-check">
                                        <input type="radio" id="youtube" name="sosyalağ" value="Youtube" v-model="sosyalağ" class="form-check-input">
                                        <label for="youtube" class="form-check-label">YouTube</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="radio" id="arkadas" name="sosyalağ" value="Instagram" v-model="sosyalağ" class="form-check-input">
                                        <label for="arkadas" class="form-check-label">Instagram</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="radio" id="twitter" name="sosyalağ" value="Twitter" v-model="sosyalağ" class="form-check-input">
                                        <label for="twitter" class="form-check-label">Twitter</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="radio" id="diger" name="sosyalağ" value="Diğer" v-model="sosyalağ" class="form-check-input">
                                        <label for="diger" class="form-check-label">Diğer</label>
                                    </div>
                                    <span v-if="errors.sosyalağ" class="text-danger">{{ errors.sosyalağ }}</span>
                                </div>

                                <div class="form-group mb-3">
                                    <label for="resimekle">Belge Ekle:</label>
                                    <input type="file" id="resimekle" name="resimekle" class="form-control">
                                    <span v-if="errors.resimekle" class="text-danger">{{ errors.resimekle }}</span>
                                </div>

                                <div class="text-center">
                                    <button type="button" id="jsKontrol" onclick="validateWithJS()" class="btn btn-success d-block w-100 mb-2">JavaScript ile Kontrol Et</button>
                                    <button type="button" @click="validateForm" class="btn btn-success d-block w-100 mb-2">Vue.js ile Kontrol Et</button>
                                    <button type="button" @click="clearForm" class="btn btn-danger d-block w-100">Temizle</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white-50">
        <small><i>&copy; 2024 Telif Hakları Saklıdır<br>Ennur Gürbüz</i></small>
    </footer>

    <script>
        new Vue({
            el: '#app',
            data: {
                kullaniciadi: '',
                mail: '',
                telefon: '',
                tarih: '',
                iller: [],
                mesaj: '',
                cinsiyet: '',
                sosyalağ: '',
                errors: {},
                ilListesi: ["Adana", "Adıyaman", "Afyon", "Ağrı", "Amasya", "Ankara", "Antalya", "Artvin", "Aydın", "Balıkesir", "Bilecik", "Bingöl", "Bitlis", "Bolu", "Burdur", "Bursa", "Çanakkale", "Çankırı", "Çorum", "Denizli", "Diyarbakır", "Edirne", "Elazığ", "Erzincan", "Erzurum", "Eskişehir", "Gaziantep", "Giresun", "Gümüşhane", "Hakkari", "Hatay", "Isparta", "Mersin", "İstanbul", "İzmir", "Kars", "Kastamonu", "Kayseri", "Kırklareli", "Kırşehir", "Kocaeli", "Konya", "Kütahya", "Malatya", "Manisa", "Kahramanmaraş", "Mardin", "Muğla", "Muş", "Nevşehir", "Niğde", "Ordu", "Rize", "Sakarya", "Samsun", "Siirt", "Sinop", "Sivas", "Tekirdağ", "Tokat", "Trabzon", "Tunceli", "Şanlıurfa", "Uşak", "Van", "Yozgat", "Zonguldak", "Aksaray", "Bayburt", "Karaman", "Kırıkkale", "Batman", "Şırnak", "Bartın", "Ardahan", "Iğdır", "Yalova", "Karabük", "Kilis", "Osmaniye", "Düzce"]
            },
            methods: {
                validateForm() {
                    this.errors = {};

                    if (!this.kullaniciadi) {
                        this.errors.kullaniciadi = 'Kullanıcı adı gereklidir.';
                    }
                    if (!this.mail) {
                        this.errors.mail = 'E-posta gereklidir.';
                    } else if (!this.validEmail(this.mail)) {
                        this.errors.mail = 'Geçerli bir e-posta adresi girin.';
                    }
                    if (!this.telefon) {
                        this.errors.telefon = 'Telefon numarası gereklidir.';
                    } else if (!this.validPhoneNumber(this.telefon)) {
                        this.errors.telefon = 'Geçerli bir telefon numarası girin.';
                    }
                    if (!this.tarih) {
                        this.errors.tarih = 'Doğum tarihi gereklidir.';
                    }
                    if (this.iller.length === 0) {
                        this.errors.iller = 'En az bir il seçmelisiniz.';
                    }
                    if (!this.mesaj) {
                        this.errors.mesaj = 'Mesaj gereklidir.';
                    }
                    if (!this.cinsiyet) {
                        this.errors.cinsiyet = 'Cinsiyet seçimi gereklidir.';
                    }
                    if (!this.sosyalağ) {
                        this.errors.sosyalağ = 'Bir seçenek seçmelisiniz.';
                    }
                    if (!document.getElementById('resimekle').value) {
                        this.errors.resimekle = 'Belge eklemelisiniz.';
                    }

                    if (Object.keys(this.errors).length === 0) {
                        document.getElementById('iletisimFormu').submit();
                    } else {
                        alert('Vue.js ile doğrulama başarısız!');
                    }
                },
                validEmail(email) {
                    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@(([^<>()[\]\.,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,})$/i;
                    return re.test(String(email).toLowerCase());
                },
                validPhoneNumber(phone) {
                    var re = /^[0-9]{10}$/;
                    return re.test(phone);
                },
                clearForm() {
                    this.kullaniciadi = '';
                    this.mail = '';
                    this.telefon = '';
                    this.tarih = '';
                    this.iller = [];
                    this.mesaj = '';
                    this.cinsiyet = '';
                    this.sosyalağ = '';
                    this.errors = {};
                    document.getElementById('resimekle').value = '';
                },
                submitForm(event) {
                    if (Object.keys(this.errors).length > 0) {
                        event.preventDefault();
                    }
                }
            }
        });

        function validateWithJS() {
            let errors = {};
            let kullaniciadi = document.getElementById('kullaniciadi').value;
            let mail = document.getElementById('mail').value;
            let telefon = document.getElementById('telefon').value;
            let tarih = document.getElementById('tarih').value;
            let iller = document.getElementById('iller').selectedOptions;
            let mesaj = document.getElementById('mesaj').value;
            let cinsiyet = document.querySelector('input[name="cinsiyet"]:checked');
            let sosyalağ = document.querySelector('input[name="sosyalağ"]:checked');
            let resimekle = document.getElementById('resimekle').value;

            if (!kullaniciadi) {
                errors.kullaniciadi = 'Kullanıcı adı gereklidir.';
            }
            if (!mail) {
                errors.mail = 'E-posta gereklidir.';
            } else if (!validEmail(mail)) {
                errors.mail = 'Geçerli bir e-posta adresi girin.';
            }
            if (!telefon) {
                errors.telefon = 'Telefon numarası gereklidir.';
            } else if (!validPhoneNumber(telefon)) {
                errors.telefon = 'Geçerli bir telefon numarası girin.';
            }
            if (!tarih) {
                errors.tarih = 'Doğum tarihi gereklidir.';
            }
            if (iller.length === 0) {
                errors.iller = 'En az bir il seçmelisiniz.';
            }
            if (!mesaj) {
                errors.mesaj = 'Mesaj gereklidir.';
            }
            if (!cinsiyet) {
                errors.cinsiyet = 'Cinsiyet seçimi gereklidir.';
            }
            if (!sosyalağ) {
                errors.sosyalağ = 'Bir seçenek seçmelisiniz.';
            }
            if (!resimekle) {
                errors.resimekle = 'Belge eklemelisiniz.';
            }

            if (Object.keys(errors).length > 0) {
                let errorMessages = Object.values(errors).join('\n');
                alert(errorMessages);
            } else {
                alert('JavaScript ile doğrulama başarılı!');
                document.getElementById('iletisimFormu').submit();
            }
        }

        function validEmail(email) {
            var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@(([^<>()[\]\.,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,})$/i;
            return re.test(String(email).toLowerCase());
        }

        function validPhoneNumber(phone) {
            var re = /^[0-9]{10}$/;
            return re.test(phone);
        }
    </script>
</body>
</html>
